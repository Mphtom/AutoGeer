<div class="container my-5" *ngIf="product; else notFound">
  <div class="row">
    <div class="col-md-6">
      <div class="main-image mb-3">
        <img [src]="selectedImage || product.thumbnail" class="img-fluid rounded" [alt]="product.title">
      </div>
      <div class="image-gallery d-flex justify-content-center">
        <img *ngFor="let img of product.images" [src]="img" class="img-thumbnail m-2" [alt]="product.title" (click)="selectImage(img)">
      </div>
    </div>
    <div class="col-md-6">
      <h1>{{ product.title }}</h1>
      <p class="text-muted">{{ product.category }}</p>
      <h2 class="text-success">
         <span class="text-decoration-line-through">{{product.price }}</span> /
          <span class="text-success">{{ product.price | discountPrice:product.discountPercentage }}</span>
      </h2>

      <p class="text-warning">
        <ng-container *ngFor="let star of [].constructor(5); let index = index">
          <i class="fa" style="font-size: 20px;"
             [ngClass]="index < product.rating ? (index + 0.5 < product.rating ? 'fa-solid fa-star' : 'fa-solid fa-star-half-stroke') : 'fa-regular fa-star'"></i>
        </ng-container>
        {{ product.rating }} / 5
      </p>
      <p>{{ product.description }}</p>
      <ul class="list-group">
        <li class="list-group-item"><strong>Brand:</strong> {{ product.brand }}</li>
        <li class="list-group-item"><strong>SKU:</strong> {{ product.sku }}</li>
        <li class="list-group-item"><strong>Weight:</strong> {{ product.weight }}g</li>
        <li class="list-group-item"><strong>Dimensions:</strong> {{ product.dimensions.width }} x {{ product.dimensions.height }} x {{ product.dimensions.depth }} cm</li>
        <li class="list-group-item"><strong>Stock:</strong>
          <span [ngClass]="{'text-success': product.stock > 0, 'text-danger': product.stock <= 0}">
            {{ product.stock > 0 ? 'In Stock' : 'Out of Stock' }}
          </span>
        </li>
        <li class="list-group-item"><strong>Warranty:</strong> {{ product.warrantyInformation }}</li>
        <li class="list-group-item"><strong>Shipping:</strong> {{ product.shippingInformation }}</li>
      </ul>
      <div class="mt-3 d-flex justify-content-evenly align-content-center">
        <button class="btn btn-primary btn-lg btn-block me-4 w-25" (click)="addToCart()">
          <span>Buy now</span>
        </button>
        <button class="btn btn-outline-primary btn-lg btn-block"><i class="fa fa-cart-plus"></i> Add to Cart</button>
      </div>
    </div>
  </div>
</div>
<ng-template #notFound>
  <div class="alert alert-danger" role="alert">
    <i class="fa fa-exclamation-triangle"></i> Product not found.
  </div>
</ng-template>
